webpackJsonp([14],{561:function(t,e,a){var s,i;a(562),s=a(563),i=a(565),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},562:function(t,e){},563:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(9),o=(s(i),a(11)),l=s(o),n=a(564);e.default={data:function(){return{logininfo:"",classid:"",classifylist:[],taglist:[],tmptaglist:{id:[],append:0,data:[{res_db:"aires",resources:[]}],clevel:null,userinfo:{editor:"",editor_email:""}}}},ready:function(){this.getlogininfo(),this.endids(),this.getclass(),this.getclasslist()},vuex:{getters:{tagsData:n.getTags}},methods:{getlogininfo:function(){this.logininfo=l.default.getCookie("CURRENT_USER"),this.logininfo=JSON.parse(JSON.parse(this.logininfo))},endids:function(){var t=this;this.tagsData.forEach(function(e){t.tmptaglist.data[0].resources.push(e.id)})},getclass:function(){var t=this,e="/airesources/"+this.tagsData[0].id;console.log(e),l.default.ajax({method:"GET",url:l.default.getUrl(e)}).then(function(e){t.classid=e.data.data.catearr.id,console.log(t.classid)}).catch(function(t){console.error(t)})},getclasslist:function(){var t=this,e={appId:"",id:0,type:0};l.default.ajax({method:"POST",url:l.default.getUrl("/tag/list"),data:e}).then(function(e){console.log("分类"),t.classifylist=e.data.data.children,l.default.selectclass(t.classifylist,t.classid),t.gettaglist(t.classid),l.default.expandtree(t.classifylist)}).catch(function(t){console.error(t)})},gettagnode:function(t){return 0==t[0].pid&&(l.default.uncheckedtree(this.classifylist),l.default.unselecttree(this.classifylist),l.default.disableclass(this.classifylist,t[0].id),this.tmptaglist.id=[],this.tmptaglist.id.push(t[0].id),void this.gettaglist(t[0].id))},gettaglist:function(t){var e=this,a={appId:"",id:t};l.default.ajax({method:"POST",url:l.default.getUrl("/tag/list"),data:a}).then(function(t){e.taglist=t.data.data.children,console.log(e.taglist)}).catch(function(t){console.error(t)})},getcheckclass:function(t){var e=this;t.forEach(function(t){e.changedata.tagnew.push(t.id)}),console.log(this.changedata.tagnew)},savetags:function(t){var e=this;console.log(t),t.forEach(function(t){e.tmptaglist.id.push(t.id)})},tosave:function(){this.tmptaglist.clevel=2,this.tosend()},tosubmit:function(){this.tmptaglist.clevel=3,this.tosend()},tosend:function(){this.tmptaglist.userinfo.editor=this.logininfo.loginName,this.tmptaglist.userinfo.editor_email=this.logininfo.email,l.default.ajax({method:"POST",url:l.default.getUrl("/tag/resources"),data:this.tmptaglist}).then(function(t){console.log(t),l.default.tip(t)}).catch(function(t){console.error(t)})}}}},564:function(t,e){"use strict";function a(t){return t.selectTableData}Object.defineProperty(e,"__esModule",{value:!0}),e.getTags=a},565:function(t,e){t.exports=' <div class=layout-header _v-db6f3188=""></div> <div class=layout-breadcrumb _v-db6f3188=""> <breadcrumb _v-db6f3188=""> <breadcrumb-item _v-db6f3188="">首页</breadcrumb-item> <breadcrumb-item _v-db6f3188="">音频资源管理</breadcrumb-item> <breadcrumb-item _v-db6f3188="">批量打标签</breadcrumb-item> </breadcrumb> </div> <div class=layout-content _v-db6f3188=""> <div class=layout-content-main _v-db6f3188=""> <menu mode=horizontal :theme=theme1 active-key=1 _v-db6f3188=""> <menu-item key=1 _v-db6f3188=""> 批量打分类/标签 </menu-item> </menu> <p class=num_wrapper _v-db6f3188="">共选择 {{tagsData.length}} 条记录</p> <card class="classwrapper cf" _v-db6f3188=""> <p slot=title _v-db6f3188="">分类</p> <tree :data=classifylist @on-select-change=gettagnode @on-check-change=getcheckclass show-checkbox="" _v-db6f3188=""></tree> </card> <card class=tagwrapper _v-db6f3188=""> <p slot=title _v-db6f3188="">标签</p> <template v-for="item in taglist" _v-db6f3188=""> <tag type=border color=blue _v-db6f3188="">{{item.title}}</tag> <card class=cf _v-db6f3188=""> <tree :data=item.children show-checkbox="" @on-check-change=savetags _v-db6f3188=""> </tree> </card> </template> </card> <p class=btn_wrapper _v-db6f3188=""> <i-button type=warning icon=ios-compose size=large v-on:click.stop.prevent=tosave() _v-db6f3188="">保存</i-button> <i-button type=success icon=checkmark-round size=large v-on:click.stop.prevent=tosubmit() _v-db6f3188="">提交</i-button> </p> </div> </div> '}});