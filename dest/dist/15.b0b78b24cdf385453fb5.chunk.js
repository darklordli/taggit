webpackJsonp([15],{564:function(t,a){"use strict";function e(t){return t.selectTableData}Object.defineProperty(a,"__esModule",{value:!0}),a.getTags=e},566:function(t,a,e){var i,s;e(567),i=e(568),s=e(569),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default),s&&(("function"==typeof t.exports?t.exports.options:t.exports).template=s)},567:function(t,a){},568:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var s=e(9),o=(i(s),e(11)),n=i(o),r=e(564);a.default={data:function(){return{logininfo:"",classid:null,classname:null,taglist:[],tmptaglist:{id:[],append:1,data:[{res_db:"aires",resources:[]}],clevel:null,userinfo:{editor:"",editor_email:""}}}},ready:function(){this.getlogininfo(),this.endids(),this.getclass()},vuex:{getters:{tagsData:r.getTags}},methods:{getlogininfo:function(){this.logininfo=n.default.getCookie("CURRENT_USER"),this.logininfo=JSON.parse(JSON.parse(this.logininfo))},endids:function(){var t=this;this.tagsData.forEach(function(a){t.tmptaglist.data[0].resources.push(a.id)})},getclass:function(){var t=this,a="/airesources/"+this.tagsData[0].id;console.log(a),n.default.ajax({method:"GET",url:n.default.getUrl(a)}).then(function(a){t.classid=a.data.data.catearr.id,t.classname=a.data.data.catearr.name,t.gettaglist(t.classid)}).catch(function(t){console.error(t)})},gettaglist:function(t){var a=this,e={appId:"",id:t};n.default.ajax({method:"POST",url:n.default.getUrl("/tag/list"),data:e}).then(function(t){a.taglist=t.data.data.children,console.log(a.taglist)}).catch(function(t){console.error(t)})},savetags:function(t){var a=this;console.log(t),t.forEach(function(t){a.tmptaglist.id.push(t.id)})},tosave:function(){this.tmptaglist.clevel=2,this.tosend()},tosubmit:function(){this.tmptaglist.clevel=3,this.tosend()},tosend:function(){this.tmptaglist.userinfo.editor=this.logininfo.loginName,this.tmptaglist.userinfo.editor_email=this.logininfo.email,n.default.ajax({method:"POST",url:n.default.getUrl("/tag/resources"),data:this.tmptaglist}).then(function(t){n.default.tip(t)}).catch(function(t){console.error(t)})}}}},569:function(t,a){t.exports=' <div class=layout-header _v-7da7af82=""></div> <div class=layout-breadcrumb _v-7da7af82=""> <breadcrumb _v-7da7af82=""> <breadcrumb-item _v-7da7af82="">首页</breadcrumb-item> <breadcrumb-item _v-7da7af82="">音频资源管理</breadcrumb-item> <breadcrumb-item _v-7da7af82="">批量添加标签</breadcrumb-item> </breadcrumb> </div> <div class=layout-content _v-7da7af82=""> <div class=layout-content-main _v-7da7af82=""> <menu mode=horizontal :theme=theme1 active-key=1 _v-7da7af82=""> <menu-item key=1 _v-7da7af82=""> 批量添加标签 </menu-item> </menu> <p class=num_wrapper _v-7da7af82="">共选择 {{tagsData.length}} 条记录， 所在分类:{{classname}}</p> <card class=tagwrapper _v-7da7af82=""> <p slot=title _v-7da7af82="">标签</p> <template v-for="item in taglist" _v-7da7af82=""> <tag type=border color=blue _v-7da7af82="">{{item.title}}</tag> <card class=cf _v-7da7af82=""> <tree :data=item.children show-checkbox="" @on-check-change=savetags _v-7da7af82=""> </tree> </card> </template> </card> <p class=btn_wrapper _v-7da7af82=""> <i-button type=warning icon=ios-compose size=large v-on:click.stop.prevent=tosave() _v-7da7af82="">保存</i-button> <i-button type=success icon=checkmark-round size=large v-on:click.stop.prevent=tosubmit() _v-7da7af82="">提交</i-button> </p> </div> </div> '}});