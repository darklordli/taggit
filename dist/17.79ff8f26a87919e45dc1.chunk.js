webpackJsonp([17,19],{572:function(e,t){"use strict";function a(e){return e.selectTableData}Object.defineProperty(t,"__esModule",{value:!0}),t.getTags=a},574:function(e,t,a){var i,s;a(575),i=a(576),s=a(577),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),s&&(("function"==typeof e.exports?e.exports.options:e.exports).template=s)},575:function(e,t){},576:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(9),n=(i(s),a(11)),o=i(n),r=a(572);t.default={data:function(){return{logininfo:"",classid:null,taglist:[],tagnew:{},tmptaglist:{id:[],append:1,data:[{res_db:"aires",resources:[]}],clevel:null,userinfo:{editor:"",editor_email:""}},classspinShow:!0,tagsspinShow:!0,classname:""}},ready:function(){this.getlogininfo(),this.endids(),this.getclass()},vuex:{getters:{tagsData:r.getTags}},methods:{getlogininfo:function(){this.logininfo=o.default.getCookie("CURRENT_USER"),this.logininfo=JSON.parse(JSON.parse(this.logininfo))},endids:function(){var e=this;this.tagsData.forEach(function(t){e.tmptaglist.data[0].resources.push(t.id)})},getclass:function(){var e=this,t="/airesources/"+this.tagsData[0].id;o.default.ajax({method:"GET",url:o.default.getUrl(t)}).then(function(t){e.classid=t.data.data.catearr.id,e.classname=t.data.data.catearr.name,e.gettaglist(e.classid)}).catch(function(e){console.error(e)})},gettaglist:function(e){var t=this,a={appId:"",id:e};o.default.ajax({method:"POST",url:o.default.getUrl("/tag/list"),data:a}).then(function(e){t.taglist=e.data.data.children,console.log(t.taglist)}).catch(function(e){console.error(e)})},checkalltags:function(e){o.default.checkedtruetree(e.children)},tosave:function(){this.tmptaglist.clevel=2,this.tosend()},tosubmit:function(){this.tmptaglist.clevel=3,this.tosend()},tosend:function(){var e=this,t=this.$refs.tagtree;t.forEach(function(t,a){e.tagnew[a]=[];var i=t.$children[0].getCheckedNodes();i.forEach(function(t){t.id?e.tagnew[a].push(t.id):e.tagnew[a].push(t.tagId)})});var a=[];for(a in this.tagnew)this.tagnew[a].forEach(function(t){e.tmptaglist.id.push(t)});this.tmptaglist.userinfo.editor=this.logininfo.loginName,this.tmptaglist.userinfo.editor_email=this.logininfo.email,o.default.ajax({method:"POST",url:o.default.getUrl("/tag/resources"),data:this.tmptaglist}).then(function(e){o.default.tip(e)}).catch(function(e){console.error(e)})}}}},577:function(e,t){e.exports=' <div class=layout-header _v-e44e487a=""></div> <div class=layout-breadcrumb _v-e44e487a=""> <breadcrumb _v-e44e487a=""> <breadcrumb-item _v-e44e487a="">首页</breadcrumb-item> <breadcrumb-item _v-e44e487a="">音频资源管理</breadcrumb-item> <breadcrumb-item _v-e44e487a="">批量添加标签</breadcrumb-item> </breadcrumb> </div> <div class=layout-content _v-e44e487a=""> <div class=layout-content-main _v-e44e487a=""> <menu mode=horizontal :theme=theme1 active-key=1 _v-e44e487a=""> <menu-item key=1 _v-e44e487a=""> 批量添加标签 </menu-item> </menu> <p class=num_wrapper _v-e44e487a="">共选择 {{tagsData.length}} 条资源， 所在分类:{{classname}}</p> <card class=tagwrapper _v-e44e487a=""> <p slot=title _v-e44e487a=""><b _v-e44e487a="">{{classname}}</b> 分类的标签：</p> <template v-for="item in taglist" v-ref:tagtree="" _v-e44e487a=""> <a type=border class=taggrouplink @click.prevent.stop=checkalltags(item) _v-e44e487a=""> {{item.title}} </a> <card class=cf _v-e44e487a=""> <tree :data=item.children show-checkbox="" _v-e44e487a=""> </tree> </card> </template> </card> <p class=btn_wrapper _v-e44e487a=""> <i-button type=warning icon=ios-compose size=large v-on:click.stop.prevent=tosave() _v-e44e487a="">批量保存</i-button> <i-button type=success icon=checkmark-round size=large v-on:click.stop.prevent=tosubmit() _v-e44e487a="">批量提交</i-button> </p> </div> </div> '}});